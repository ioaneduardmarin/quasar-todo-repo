(self["webpackChunkquasar_todo"]=self["webpackChunkquasar_todo"]||[]).push([[658],{1658:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>Z});var s=a(3673),o=a(8880),i=a(2323);const n={class:"row q-pa-sm bg-primary"},l={key:0,class:"no-tasks absolute-center"},d=(0,s.Wm)("div",{class:"text-h5 text-primary text-centr"},"No tasks",-1);function r(t,e,a,r,c,u){const p=(0,s.up)("q-btn"),m=(0,s.up)("q-input"),k=(0,s.up)("q-checkbox"),w=(0,s.up)("q-item-section"),y=(0,s.up)("q-item-label"),h=(0,s.up)("q-item"),f=(0,s.up)("q-list"),g=(0,s.up)("q-icon"),T=(0,s.up)("q-page"),q=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.j4)(T,{class:"bg-grey-3 column"},{default:(0,s.w5)((()=>[(0,s.Wm)("div",n,[(0,s.Wm)(m,{modelValue:t.newTask,"onUpdate:modelValue":e[1]||(e[1]=e=>t.newTask=e),onKeyup:(0,o.D2)(t.addTask,["enter"]),class:"col",square:"",filled:"","bg-color":"white",placeholder:"Add Task",dense:""},{append:(0,s.w5)((()=>[(0,s.Wm)(p,{onClick:t.addTask,round:"",dense:"",flat:"",icon:"add"},null,8,["onClick"])])),_:1},8,["modelValue","onKeyup"])]),(0,s.Wm)(f,{class:"bg-white",separator:"",bordered:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.j4)(s.HY,null,(0,s.Ko)(t.tasks,((e,a)=>(0,s.wy)(((0,s.wg)(),(0,s.j4)(h,{key:e.title,onClick:a=>t.changeTaskState(e),class:{"done bg-blue-1":e.done},clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(k,{modelValue:e.done,"onUpdate:modelValue":t=>e.done=t,color:"primary",class:"no-pointer-events"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,i.zw)(e.title),1)])),_:2},1024)])),_:2},1024),e.done?((0,s.wg)(),(0,s.j4)(w,{key:0,side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(y,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onClick:(0,o.iM)((e=>t.deleteTask(a)),["stop"]),flat:"",round:"",dense:"",color:"primary",icon:"delete"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)):(0,s.kq)("",!0)])),_:2},1032,["onClick","class"])),[[q]]))),128))])),_:1}),t.tasks.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)("div",l,[(0,s.Wm)(g,{name:"check",size:"100px",color:"primary"}),d]))])),_:1})}var c=a(1010);const u={functions:{async getTodoList(){return c.fy.readFile({path:"toDoList.txt",directory:c.tP.Data,encoding:c.ez.UTF8})},async writeTodoList(t){await c.fy.writeFile({path:"toDoList.txt",directory:c.tP.Data,data:t,encoding:c.ez.UTF8})}}},p={functions:{async getTodoList(){let t;return await window.electron.invoke("load-todos").then((e=>{t=e.errorCode?e.errorCode:JSON.parse(e.data)})),t},async writeTodoList(t){await window.electron.invoke("save-todos",t)}}},m={functions:{async saveTodoList(t,e){e.is.capacitor&&await u.functions.writeTodoList(JSON.stringify(t)),e.is.electron&&await p.functions.writeTodoList(JSON.stringify(t))},async loadTodoList(t){return t.is.capacitor?JSON.parse((await u.functions.getTodoList()).data):t.is.electron?await p.functions.getTodoList():null}}},k=(0,s.aZ)({name:"TodoPage",data(){return{newTask:"",tasks:[]}},beforeRouteEnter(t,e,a){a((t=>{t.componentSetup({})}))},methods:{async saveList(){try{await m.functions.saveTodoList(this.tasks,this.$q.platform)}catch(t){alert(t)}},async loadList(){try{const t=await m.functions.loadTodoList(this.$q.platform);"ENOENT"===t?this.$q.notify({message:"Add a todo item",color:"primary",position:"center"}):this.tasks=t}catch(t){"File does not exist"===t.message?this.$q.notify({message:"Add a todo item",color:"primary",position:"center"}):alert(t)}},async componentSetup(){await this.loadList()},async deleteTask(t){this.$q.dialog({title:"Confirm",message:"Are you sure you want to delete that task?",cancel:!0,persistent:!0}).onOk((async()=>{this.tasks.splice(t,1),this.$q.notify({message:"Task deleted.",color:"primary",position:"bottom"}),await this.saveList()}))},async addTask(){this.$q.dialog({title:"Confirm",message:"Are you sure you want to add that task?",cancel:!0,persistent:!0}).onOk((async()=>{this.tasks.push({title:this.newTask,done:!1}),this.$q.notify({message:"Task added.",color:"primary",position:"bottom"}),this.newTask="",await this.saveList()}))},async changeTaskState(t){t.done=!t.done,await this.saveList()}}});var w=a(4379),y=a(1206),h=a(8240),f=a(7011),g=a(3414),T=a(2035),q=a(5735),L=a(2350),b=a(4554),v=a(6489),C=a(7518),W=a.n(C);k.render=r;const Z=k;W()(k,"components",{QPage:w.Z,QInput:y.Z,QBtn:h.Z,QList:f.Z,QItem:g.Z,QItemSection:T.Z,QCheckbox:q.Z,QItemLabel:L.Z,QIcon:b.Z}),W()(k,"directives",{Ripple:v.Z})}}]);